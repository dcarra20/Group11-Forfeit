<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="tabletCSS.css" />
    <title>Forfeit - Goals</title>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Forfeit</h1>
        <div class="profile-icon">&#128100;</div>
      </div>

      <div class="goals">
        <div class="goals-tabs">
          <button class="tab-btn active" onclick="showTab('active')">
            Active
          </button>
          <button class="tab-btn" onclick="showTab('past')">Past</button>
        </div>

        <div id="active-goals" class="goals-list">
          <table>
            <tr>
              <th>Name</th>
              <th>Date</th>
              <th>Category</th>
              <th>Complete</th>
            </tr>
            <tr>
              <td>Work Out</td>
              <td>03/19/25</td>
              <td>Physical</td>
              <td class="complete">&#10004;</td>
            </tr>
            <tr>
              <td>Finish Project</td>
              <td>03/22/25</td>
              <td>Educational</td>
              <td class="complete">&#10004;</td>
            </tr>
            <tr>
              <td>Read 100 Pages</td>
              <td>03/24/25</td>
              <td>Hobby</td>
              <td class="complete">&#10004;</td>
            </tr>
          </table>
        </div>

        <div id="past-goals" class="goals-list hidden">
          <table>
            <tr>
              <th>Name</th>
              <th>Date</th>
              <th>Category</th>
              <th>Complete</th>
            </tr>
            <tr>
              <td>Morning Run</td>
              <td>02/15/25</td>
              <td>Physical</td>
              <td class="complete">&#10004;</td>
            </tr>
            <tr>
              <td>Read a Book</td>
              <td>02/20/25</td>
              <td>Educational</td>
              <td class="complete">&#10004;</td>
            </tr>
          </table>
        </div>
      </div>

      <div class="bottom-nav">
        <button class="nav-btn" onclick="navigateTo('tabletHome.html')">
          Home
        </button>
        <button class="nav-btn" onclick="navigateTo('tabletCalendar.html')">
          Calendar
        </button>
        <button class="nav-btn active" onclick="navigateTo('tabletGoals.html')">
          Goals
        </button>
      </div>
    </div>

    <script>
      function navigateTo(page) {
        window.location.href = page;
      }

      function showTab(tab) {
        const activeTab = document.getElementById("active-goals");
        const pastTab = document.getElementById("past-goals");

        if (tab === "active") {
          activeTab.classList.remove("hidden");
          pastTab.classList.add("hidden");
          document
            .querySelector(".tab-btn:nth-child(1)")
            .classList.add("active");
          document
            .querySelector(".tab-btn:nth-child(2)")
            .classList.remove("active");
        } else {
          pastTab.classList.remove("hidden");
          activeTab.classList.add("hidden");
          document
            .querySelector(".tab-btn:nth-child(1)")
            .classList.remove("active");
          document
            .querySelector(".tab-btn:nth-child(2)")
            .classList.add("active");
        }
      }
    </script>
    <script>
      function loadGoals() {
        const goals = JSON.parse(localStorage.getItem("goals")) || [];
        const activeGoalsContainer = document
          .getElementById("active-goals")
          .querySelector("table");
        const pastGoalsContainer = document
          .getElementById("past-goals")
          .querySelector("table");

        activeGoalsContainer.innerHTML = `<tr>
                <th>Name</th>
                <th>Date</th>
                <th>Category</th>
                <th>Complete</th>
            </tr>`;
        pastGoalsContainer.innerHTML = `<tr>
                <th>Name</th>
                <th>Date</th>
                <th>Category</th>
                <th>Complete</th>
            </tr>`;

        goals.forEach((goal, index) => {
          const row = `
                    <tr>
                        <td>${goal.name}</td>
                        <td>${goal.deadline}</td>
                        <td>${goal.category}</td>
                        <td class="complete" onclick="markAsComplete(${index})">&#10004;</td>
                    </tr>
                `;
          if (goal.completed) {
            pastGoalsContainer.innerHTML += row;
          } else {
            activeGoalsContainer.innerHTML += row;
          }
        });
      }

      function markAsComplete(index) {
        const goals = JSON.parse(localStorage.getItem("goals")) || [];
        goals[index].completed = true;
        localStorage.setItem("goals", JSON.stringify(goals));
        loadGoals();
      }

      window.onload = loadGoals;
    </script>
  </body>
</html>
